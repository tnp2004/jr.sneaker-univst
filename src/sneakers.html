<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="output.css?<?php echo time(); ?>">
    <title>JR.SNEAKER</title>
</head>

<body>
    <div class="px-5 container mx-auto">
        <nav class="flex justify-between py-5 lg:bg-transparent">
            <a href="index.html" class="flex items-center gap-2 cursor-pointer">
                <img class="w-9" src="images/jrsneaker_icon.png" alt="jr.sneaker">
                <label class="text-2xl italic cursor-pointer" for="title">JR.SNEAKER</label>
            </a>

            <ul class="hidden lg:flex items-center gap-5">
                <li><a lang="th" href="#">ทั้งหมด</a></li>
                <li><a href="#">ผู้ชาย</a></li>
                <li><a href="#">ผู้หญิง</a></li>
                <li><a href="#">เด็ก</a></li>
            </ul>

            <ul class="flex items-center gap-5">
                <!-- hamburger menu -->
                <li class="relative lg:hidden">
                    <button id="menu-btn" class="align-middle">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-menu"><line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/></svg>
                    </button>
                    <div id="menu-dropdown" class="absolute hidden right-0 z-10 mt-2 w-56 origin-top-right rounded-md bg-white ring-1 shadow-lg ring-black/5 focus:outline-hidden" role="menu" aria-orientation="vertical" aria-labelledby="menu-button" tabindex="-1">
                        <div class="py-1" role="none">
                          <!-- Active: "bg-gray-100 text-gray-900 outline-hidden", Not Active: "text-gray-700" -->
                          <a href="#" class="block px-4 py-2 text-sm text-gray-700" role="menuitem" tabindex="-1" id="menu-item-0">แนะนำ</a>
                          <a href="#" class="block px-4 py-2 text-sm text-gray-700" role="menuitem" tabindex="-1" id="menu-item-1">ผู้ชาย</a>
                          <a href="#" class="block px-4 py-2 text-sm text-gray-700" role="menuitem" tabindex="-1" id="menu-item-2">ผู้หญิง</a>
                          <a href="#" class="block px-4 py-2 text-sm text-gray-700" role="menuitem" tabindex="-1" id="menu-item-3">เด็ก</a>
                          <a href="#" class="block md:hidden px-4 py-2 text-sm text-gray-700" role="menuitem" tabindex="-1" id="menu-item-3">
                            <svg class="inline" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                            class="lucide lucide-shopping-cart">
                            <circle cx="8" cy="21" r="1" />
                            <circle cx="19" cy="21" r="1" />
                            <path
                                d="M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12" />
                        </svg>
                        <span>ตะกร้า</span>
                          </a>
                          <a href="#" class="block md:hidden px-4 py-2 text-sm text-gray-700" role="menuitem" tabindex="-1" id="menu-item-3">
                            <svg class="inline" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                            class="lucide lucide-heart">
                            <path
                                d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z" />
                        </svg>
                        <span>สินค้าที่ชอบ</span>
                          </a>
                          <a href="#" class="block md:hidden px-4 py-2 text-sm text-gray-700" role="menuitem" tabindex="-1" id="menu-item-3">
                            <svg class="inline" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                            class="lucide lucide-user">
                            <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2" />
                            <circle cx="12" cy="7" r="4" />
                        </svg>
                        <span>ข้อมูลส่วนตัว</span>
                          </a>
                        </div>
                      </div>
                </li>

                <li class="hidden md:block"><a href="#">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                            class="lucide lucide-shopping-cart">
                            <circle cx="8" cy="21" r="1" />
                            <circle cx="19" cy="21" r="1" />
                            <path
                                d="M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12" />
                        </svg>
                    </a></li>
                <li class="hidden md:block"><a href="#">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                            class="lucide lucide-heart">
                            <path
                                d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z" />
                        </svg>
                    </a></li>
                <li class="hidden md:block"><a href="#">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                            class="lucide lucide-user">
                            <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2" />
                            <circle cx="12" cy="7" r="4" />
                        </svg>
                    </a></li>
            </ul>
        </nav>
        
        <div class="flex gap-5">
            <div class="w-1/5 text-xl hidden lg:block">
                <div>
                    <label class="font-semibold" for="brand">แบรนด์</label>
                    <ul class="ml-5">
                        <li>
                            <input type="checkbox" name="nike" id="nike-checkbox">
                            <label for="nike">Nike</label>
                        </li>
                        <li>
                            <input type="checkbox" name="adidas" id="adidas-checkbox">
                            <label for="adidas">Adidas</label>
                        </li>
                        <li>
                            <input type="checkbox" name="newbalance" id="newbalance-checkbox">
                            <label for="newbalance">New Balance</label>
                        </li>
                        <li>
                            <input type="checkbox" name="converse" id="converse-checkbox">
                            <label for="converse">Converse</label>
                        </li>
                        <li>
                            <input type="checkbox" name="reebok" id="reebok-checkbox">
                            <label for="reebok">Reebok</label>
                        </li>
                        <li>
                            <input type="checkbox" name="vans" id="vans-checkbox">
                            <label for="vans">Vans</label>
                        </li>
                    </ul>
                </div>
                <hr class="my-5">
                <div>
                    <label id="price-range-label" class="block font-semibold" for="price-range">ราคา <span class="text-sm text-slate-600">(0 บาท)</span></label>
                        <input class="w-full accent-amber-400 border-0 h-1" type="range" name="price-range" id="price-range" min="0" max="10000" step="100">
                        <div class="flex justify-between">
                            <span>0 บาท</span>
                            <span>10,000 บาท</span>
                        </div>
                </div>
                <hr class="my-5">
                <div>
                    <label class="block font-semibold mb-1" for="price-range">ขนาด</label>
                    <div class="grid grid-flow-row grid-cols-4 gap-3 w-fit">
                        <button class="size bg-gradient-to-r border-2 w-fit px-2 py-1 rounded text-slate-600 text-xl">32</button>
                        <button class="size bg-gradient-to-r border-2 w-fit px-2 py-1 rounded text-slate-600 text-xl">33</button>
                        <button class="size bg-gradient-to-r border-2 w-fit px-2 py-1 rounded text-slate-600 text-xl">34</button>
                        <button class="size bg-gradient-to-r border-2 w-fit px-2 py-1 rounded text-slate-600 text-xl">35</button>
                        <button class="size bg-gradient-to-r border-2 w-fit px-2 py-1 rounded text-slate-600 text-xl">36</button>
                        <button class="size bg-gradient-to-r border-2 w-fit px-2 py-1 rounded text-slate-600 text-xl">37</button>
                        <button class="size bg-gradient-to-r border-2 w-fit px-2 py-1 rounded text-slate-600 text-xl">38</button>
                        <button class="size bg-gradient-to-r border-2 w-fit px-2 py-1 rounded text-slate-600 text-xl">39</button>
                        <button class="size bg-gradient-to-r border-2 w-fit px-2 py-1 rounded text-slate-600 text-xl">40</button>
                        <button class="size bg-gradient-to-r border-2 w-fit px-2 py-1 rounded text-slate-600 text-xl">41</button>
                        <button class="size bg-gradient-to-r border-2 w-fit px-2 py-1 rounded text-slate-600 text-xl">42</button>
                        <button class="size bg-gradient-to-r border-2 w-fit px-2 py-1 rounded text-slate-600 text-xl">43</button>
                        <button class="size bg-gradient-to-r border-2 w-fit px-2 py-1 rounded text-slate-600 text-xl">44</button>
                        <button class="size bg-gradient-to-r border-2 w-fit px-2 py-1 rounded text-slate-600 text-xl">45</button>
                        <button class="size bg-gradient-to-r border-2 w-fit px-2 py-1 rounded text-slate-600 text-xl">46</button>
                    </div>
                </div>
            </div>

            <div class="lg:w-4/5 my-5">
                <label class="text-xl" for="recommand-sneaker">สินค้าทั้งหมด</label>
                <!-- recommand product -->
                <div id="cards" class="w-fit md:grid grid-flow-row grid-cols-4 gap-5"></div>
            </div>
        </div>
</body>
</html>

<script>
    const menuBtn = document.getElementById("menu-btn");
    const menuDropdown = document.getElementById("menu-dropdown");

    menuBtn.addEventListener("click", () => {
        menuDropdown.classList.toggle("hidden");
    });

    const sizeBtns = document.querySelectorAll(".size");
    sizeBtns.forEach(btn => {
        btn.addEventListener("click", () => {
            btn.classList.toggle("from-orange-400");
            btn.classList.toggle("to-yellow-400");
            btn.classList.toggle("drop-shadow-md");
            btn.classList.toggle("border-slate-700");
            btn.classList.toggle("text-slate-900");
        });
    });

    const priceRange = document.getElementById("price-range");
    const priceRangeLabel = document.getElementById("price-range-label");
    priceRange.addEventListener("input", () => {
        priceRangeLabel.innerHTML = `ราคา <span class="text-sm text-slate-600">(${priceRange.value} บาท)</span>`;
    });

    var cards = document.getElementById("cards")
    const requestOptions = {
        method: "GET",
        redirect: "follow",
    }

    fetch("http://localhost/jr-sneaker/src/read_all.php", requestOptions)
    .then(res => res.text())
    .then(result => {
        cards.innerHTML = "";
        var jsonObj = JSON.parse(result);
        for (let sneaker of jsonObj) {
            console.log(sneaker);
            const sneakerURL = sneaker.name.toLowerCase().replaceAll(" ", "-");
            const card = `
            <a href="./${sneakerURL}" class="hover:drop-shadow-xl duration-300 bg-white p-1 rounded cursor-pointer">
                <img class="w-full h-fit" src="${sneaker.imageURL}" alt="${sneaker.name}">
                <label class="block italic cursor-pointer" for="${sneaker.name}">${sneaker.name}</label>
                <label class="block text-slate-600 cursor-pointer" for="price">${sneaker.price} บาท</label>
            </a>
            `
        cards.insertAdjacentHTML("beforeend", card);
        }
    }).catch(e => console.log(e))
</script>